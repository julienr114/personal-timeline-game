(function(e){function t(t){for(var r,o,s=t[0],u=t[1],l=t[2],p=0,f=[];p<s.length;p++)o=s[p],a[o]&&f.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0dfc":function(e,t,n){e.exports=n.p+"img/carte-saltimbanque.b1426689.jpg"},"10c9":function(e,t,n){e.exports=n.p+"img/carte-papa.41faf21e.png"},"10e0":function(e,t,n){},"13f4":function(e,t,n){e.exports=n.p+"img/carte-le-randonneur.2eaf9207.jpg"},"24c8":function(e,t,n){e.exports=n.p+"img/carte-bricoleur.e70026bf.jpg"},"4bbf":function(e,t,n){e.exports=n.p+"img/carte-papy.492aa083.jpg"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("board")],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"board"},[n("div",{staticClass:"timeline__wrapper"},[n("draggable",{staticClass:"timeline",attrs:{options:{group:{name:"timeline",pull:!1,put:"desk"},sort:!1}},on:{add:e.checkMove},model:{value:e.game.board,callback:function(t){e.$set(e.game,"board",t)},expression:"game.board"}},e._l(e.game.board,function(e,t){return n("div",{staticClass:"event"},[n("card",{key:t,attrs:{event:e}})],1)}))],1),e.game.desk.length>0?n("div",{staticClass:"desk__wrapper"},[n("div",{staticClass:"desk"},[n("button",{on:{click:function(t){e.game.toPrevCardOfTheDeck()}}},[e._v("prev")]),n("draggable",{attrs:{options:{group:{name:"desk",pull:"timeline",put:!1}}},model:{value:e.topOfTheDesk,callback:function(t){e.topOfTheDesk=t},expression:"topOfTheDesk"}},e._l(e.topOfTheDesk,function(e,t){return n("card",{attrs:{event:e,"enabled-date":!1}})})),n("button",{on:{click:function(t){e.game.toNextCardOfTheDeck()}}},[e._v("next")])],1)]):e._e()])},s=[],u=[{title:"Le Bricoleur",year:"2016",pictureUrl:n("24c8")},{title:"Le Caviste",year:"2012",pictureUrl:n("9586")},{title:"En Famille",year:"2002",pictureUrl:n("6041")},{title:"L'EngagÃ©",year:"1993",pictureUrl:n("ebad")},{title:"Le Fils",year:"1962",pictureUrl:n("d7db")},{title:"L'Amoureux",year:"1983",pictureUrl:n("ae87")},{title:"Le Photographe",year:"2007",pictureUrl:n("863c")},{title:"Le Randonneur",year:"1995",pictureUrl:n("13f4")},{title:"Le Papa",year:"2005",pictureUrl:n("10c9")},{title:"Le Papi",year:"2018",pictureUrl:n("4bbf")},{title:"Le Saltinbamque",year:"1977",pictureUrl:n("0dfc")},{title:"Le Sportif",year:"1986",pictureUrl:n("7db7")}],l=(n("55dd"),n("c665")),c=n("aa9a"),p=function(){function e(t){Object(l["a"])(this,e),this.events=this.initializeEvents(t),this.shuffelisedEvents=this.shuffle(this.events.map(function(e,t){return t})),this.topOfTheDeskIndex=0,this.selectedInterval=null,this.board=[],this.rounds=0,this.fails=0}return Object(c["a"])(e,[{key:"initializeEvents",value:function(e){return this.orderByDate(e).map(function(e,t){return e.onBoard=!1,e.id=t,e})}},{key:"orderByDate",value:function(e){return e.sort(function(e,t){return e.year-t.year})}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.topOfTheDesk,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectedInterval;this.rounds++,this.eventCanBePutThere(e,t)?(this.selectedInterval=null,this.events[e.id].onBoard=!0,this.board.splice(t,0,e)):(this.fails++,window.alert("Fail !"))}},{key:"getInterval",value:function(e){return{MIN:this.board[e-1]?this.board[e-1].year:this.events[0].year,MAX:this.board[e]?this.board[e].year:this.events[this.events.length-1].year}}},{key:"eventCanBePutThere",value:function(e,t){var n=this.getInterval(t);return e.year>=n.MIN&&e.year<=n.MAX}},{key:"toNextCardOfTheDeck",value:function(){this.selectedInterval=null,this.topOfTheDeskIndex<this.desk.length-1?this.topOfTheDeskIndex++:this.topOfTheDeskIndex=0}},{key:"toPrevCardOfTheDeck",value:function(){this.selectedInterval=null,this.topOfTheDeskIndex>0?this.topOfTheDeskIndex--:this.topOfTheDeskIndex=this.desk.length-1}},{key:"shuffle",value:function(e){var t=e.length;while(t>0){var n=Math.floor(Math.random()*t);t--;var r=e[t];e[t]=e[n],e[n]=r}return e}},{key:"desk",get:function(){var e=this;return this.shuffelisedEvents.map(function(t){return e.events[t]}).filter(function(e){return!e.onBoard})}},{key:"topOfTheDesk",get:function(){return this.topOfTheDeskIndex>this.desk.length-1&&(this.topOfTheDeskIndex=0),this.desk[this.topOfTheDeskIndex]}}]),e}(),f=n("1516"),d=n.n(f),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"event__card",style:[e.background]},[e.enabledDate?n("span",{staticClass:"event__card__date"},[e._v(e._s(e.event.year))]):e._e(),n("span",{staticClass:"event__card__title"},[e._v(e._s(e.event.title))])])},v=[],g={props:{event:{type:Object,required:!0},enabledDate:{type:Boolean,default:!0}},computed:{background:function(){return{backgroundImage:"url(".concat(this.event.pictureUrl,")")}}}},b=g,m=(n("8280"),n("2877")),k=Object(m["a"])(b,h,v,!1,null,"bd3080ec",null);k.options.__file="Card.vue";var y=k.exports,_={components:{Card:y,Draggable:d.a},data:function(){return{game:new p(u)}},computed:{topOfTheDesk:{get:function(){return[this.game.topOfTheDesk]},set:function(e){}}},methods:{checkMove:function(e){this.game.board.splice(e.newIndex,1),this.game.play(this.game.topOfTheDesk[0],e.newIndex)}}},x=_,O=(n("920f"),Object(m["a"])(x,o,s,!1,null,null,null));O.options.__file="Board.vue";var D=O.exports,T={components:{Board:D},name:"app"},j=T,I=(n("7c55"),Object(m["a"])(j,a,i,!1,null,null,null));I.options.__file="App.vue";var w=I.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(w)}}).$mount("#app")},6041:function(e,t,n){e.exports=n.p+"img/carte-enfamille.f599087e.jpg"},"7c55":function(e,t,n){"use strict";var r=n("d3dd"),a=n.n(r);a.a},"7db7":function(e,t,n){e.exports=n.p+"img/carte-sportif.62af2ef2.png"},8280:function(e,t,n){"use strict";var r=n("10e0"),a=n.n(r);a.a},"863c":function(e,t,n){e.exports=n.p+"img/carte-le-photographe.ca15111c.jpg"},"920f":function(e,t,n){"use strict";var r=n("e869"),a=n.n(r);a.a},9586:function(e,t,n){e.exports=n.p+"img/carte-lecaviste.145bb98c.png"},ae87:function(e,t,n){e.exports=n.p+"img/carte-l_amoureux.82d96eba.png"},d3dd:function(e,t,n){},d7db:function(e,t,n){e.exports=n.p+"img/carte-fils.d755065d.jpg"},e869:function(e,t,n){},ebad:function(e,t,n){e.exports=n.p+"img/carte-engagement.a09b5304.jpg"}});
//# sourceMappingURL=app.7a76249d.js.map